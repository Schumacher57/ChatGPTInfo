Для поиска в JSON подобной структуры, нужно использовать функции JSONB в PostgreSQL, чтобы проверить наличие значения в массиве вложенных объектов. Например, если JSON хранится в колонке `YourJsonColumn` в таблице `YourTable`, запрос для поиска записи с определённым `record_id`, например `"2166c661-3e09-ef11-8342-0050569758da"`, будет выглядеть так:

```sql
SELECT *
FROM "YourTable"
WHERE "YourJsonColumn"::jsonb -> 'operations' @> 
    '[{"operation": {"record_id": "2166c661-3e09-ef11-8342-0050569758da"}}]';
```

### Пояснения:
1. **`->` и `->>`**  
   Используется для перехода к конкретным уровням вложенности JSON.  
2. **`@>`**  
   Проверяет, содержит ли JSON массив указанный объект (в данном случае массив с объектом, содержащим `record_id`).
3. **`::jsonb`**  
   Преобразует столбец из типа `JSON` в `JSONB` для использования соответствующих операторов.

### Пример уточнения:
Если `record_id` находится только на более глубоком уровне вложенности, то можно использовать функцию `jsonb_path_query`:

```sql
SELECT *
FROM "YourTable"
WHERE jsonb_path_exists(
    "YourJsonColumn"::jsonb, 
    '$.operations[*].operation.record_id ? (@ == "2166c661-3e09-ef11-8342-0050569758da")'
);
```

Здесь:  
- `$.operations[*].operation.record_id` — путь к полю `record_id` внутри массива `operations`.  
- `? (@ == "value")` — условие для поиска значения.  

Этот запрос подходит для сложных структур JSON.

---

Конечно, можно сделать более простой запрос, если точно знаешь путь к искомому значению. Для вашей структуры JSON, чтобы найти запись с определённым `record_id`, запрос будет таким:

```sql
SELECT *
FROM public."YourTable"
WHERE "YourJsonColumn"::jsonb->'operations'->0->'operation'->>'record_id' = '2166c661-3e09-ef11-8342-0050569758da';
```

### Пояснения:
1. **`->'operations'`**  
   Переходим к массиву `operations`.
2. **`->0`**  
   Доступ к первому элементу массива (нумерация с 0).
3. **`->'operation'->>'record_id'`**  
   Переход к объекту `operation` и выбор значения `record_id` как текстовой строки.
4. **`= 'значение'`**  
   Проверка на равенство.

### Что если `record_id` есть в нескольких элементах массива?
Если значение `record_id` может быть в разных элементах массива, нужно будет использовать более сложный подход, например, с функцией `jsonb_path_query` или операцией `@>` для поиска во всём массиве.