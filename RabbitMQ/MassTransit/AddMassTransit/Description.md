## –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–º–∞–Ω–¥–∞ services.AddMassTransit? ##
–ö–æ–º–∞–Ω–¥–∞ `services.AddMassTransit<TBus>` —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ ASP.NET Core –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

MassTransit - —ç—Ç–æ –º–æ—â–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –Ω–∞–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (—Ç–∞–∫–∏–º–∏ –∫–∞–∫ RabbitMQ, Kafka, Azure Service Bus –∏ –¥—Ä—É–≥–∏–º–∏) –∏ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫ —à–∏–Ω–∞ —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ —à–∏–Ω–∞ –∫–æ–º–∞–Ω–¥.

–ö–æ–º–∞–Ω–¥–∞ `services.AddMassTransit<TBus>` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ASP.NET Core.
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `TBus`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `IBusControl` –∏–ª–∏ `IServiceBus` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π).
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ MassTransit –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–¢–∏–ø `TBus` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ—á–µ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–æ—á–µ—Ä–µ–¥–µ–π, —Ç–æ–ø–∏–∫–æ–≤), —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ç.–¥.

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `services.AddMassTransit<TBus>` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º —Å—Ä–µ–¥–∞–º –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º. –ù–∞–ø—Ä–∏–º–µ—Ä:

- `services.AddMassTransit<RabbitMqBus>(cfg => { /* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è RabbitMQ */ })` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º RabbitMQ.
- `services.AddMassTransit<KafkaBus>(cfg => { /* –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kafka */ })` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —à–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π MassTransit —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º Apache Kafka.

–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ `services.AddMassTransit<TBus>`, –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã MassTransit, —Ç–∞–∫–∏–µ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `AddConsumer`, `AddSaga`, `AddRequestClient` –∏ —Ç.–¥.

–ù–∞–¥–µ—é—Å—å, —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –µ—â–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –∑–∞–¥–∞–≤–∞—Ç—å. üòä
