## –ö–ª–∞—Å—Å `DbContextOptions` –≤ Entity Framework Core ##

---

–ö–ª–∞—Å—Å `DbContextOptions` –≤ Entity Framework Core –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏. –í–æ—Ç –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `DbContextOptions`:

```csharp
using Microsoft.EntityFrameworkCore;

public class YourDbContext : DbContext
{
    public YourDbContext(DbContextOptions<YourDbContext> options)
        : base(options)
    {
    }

    // –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å–≤–æ–∏ —Å—É—â–Ω–æ—Å—Ç–∏ (—Ç–∞–±–ª–∏—Ü—ã) –∫–∞–∫ —Å–≤–æ–π—Å—Ç–≤–∞ DbSet<T>:
    // public DbSet<YourEntity> YourEntities { get; set; }
}
```

–í –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤ –∫–ª–∞—Å—Å `YourDbContext`, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π `DbContextOptions<YourDbContext>`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ `DbContextOptions` –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –º–µ—Ç–æ–¥–µ `ConfigureServices` –∫–ª–∞—Å—Å–∞ `Startup`, –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ `AddDbContext`:

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddDbContext<YourDbContext>(options =>
    {
        options.UseSqlServer("Server=(localdb)\\MSSQLLocalDB;Database=YourDatabaseName;Trusted_Connection=True;");
    });

    // –î—Ä—É–≥–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–±...
}
```

–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è `UseSqlServer` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MS SQL. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å `YourDatabaseName` –Ω–∞ –∏–º—è –≤–∞—à–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ó–∞—Ç–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `DbContextOptions` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –ø–µ—Ä–µ–¥–∞–Ω –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `YourDbContext`.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `DbContextOptions` –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∞–Ω–Ω—ã—Ö, –≤–∫–ª—é—á–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä—É–≥–∏–µ –æ–ø—Ü–∏–∏, –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞–Ω–Ω—ã—Ö.

---

## –ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª—è–º–±–¥–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è ##
–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–∞ `UseSqlServer` –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ:

```csharp
public void ConfigureServices(IServiceCollection services)
{
    var connectionString = "Server=(localdb)\\MSSQLLocalDB;Database=YourDatabaseName;Trusted_Connection=True;";
    
    var options = new DbContextOptionsBuilder<YourDbContext>()
        .UseSqlServer(connectionString)
        .Options;
    
    services.AddDbContext<YourDbContext>(options);

    // –î—Ä—É–≥–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–±...
}
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `DbContextOptions` —Å –ø–æ–º–æ—â—å—é `DbContextOptionsBuilder` –∏ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–¥–∞–µ–º –µ–≥–æ –≤ –º–µ—Ç–æ–¥ `AddDbContext`. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –¥–æ—Å—Ç–∏–≥–∞–µ–º —Ç–æ–≥–æ –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è `=>`.

–û, –∏–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –ø—É—Ç–∞–Ω–∏—Ü—É! –¢–µ–ø–µ—Ä—å —è –ø–æ–Ω—è–ª –≤–∞—à –≤–æ–ø—Ä–æ—Å.

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ `.Options` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ `DbContextOptions` –∏–∑ `DbContextOptionsBuilder`. `DbContextOptions` - —ç—Ç–æ –Ω–∞–±–æ—Ä –æ–ø—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ Entity Framework Core.

–ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ `.UseSqlServer(connectionString)` –Ω–∞ `DbContextOptionsBuilder`, —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç `DbContextOptionsBuilder` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SQL Server –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ú–µ—Ç–æ–¥ `.UseSqlServer(connectionString)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `DbContextOptionsBuilder`, –ø–æ—ç—Ç–æ–º—É –º—ã –º–æ–∂–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤.

–ó–∞—Ç–µ–º, –∫–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º `.Options` –≤ –∫–æ–Ω—Ü–µ, –º—ã –ø–æ–ª—É—á–∞–µ–º –≥–æ—Ç–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `DbContextOptions`, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥ `services.AddDbContext<YourDbContext>(options)`. –í–∞–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ `AddDbContext` –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–º–µ–Ω–Ω–æ `DbContextOptions`, –∞ –Ω–µ —Å–∞–º `DbContextOptionsBuilder`.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `.Options` –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–≤–ª–µ—á—å —Å–æ–∑–¥–∞–Ω–Ω—ã–π `DbContextOptions` –∏–∑ `DbContextOptionsBuilder` –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ –≤ `AddDbContext`.

–ò–∑–≤–∏–Ω–∏—Ç–µ –∑–∞ –ø—É—Ç–∞–Ω–∏—Ü—É —Ä–∞–Ω–µ–µ –∏ –±–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –≤–∞—à—É —Ç–µ—Ä–ø–µ–ª–∏–≤–æ—Å—Ç—å –∏ —É—Ç–æ—á–Ω–µ–Ω–∏–µ! üôèüòä


---

## C –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—è–º–±–¥–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è ##
–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç —Ç–æ—Ç –∂–µ –ø—Ä–∏–º–µ—Ä, –Ω–æ —É–∂–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏—è `=>`:

```csharp
public void ConfigureServices(IServiceCollection services)
{
    var connectionString = "Server=(localdb)\\MSSQLLocalDB;Database=YourDatabaseName;Trusted_Connection=True;";
    
    services.AddDbContext<YourDbContext>(options =>
        options.UseSqlServer(connectionString));

    // –î—Ä—É–≥–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–ª—É–∂–±...
}
```

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º –ª—è–º–±–¥–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ –º–µ—Ç–æ–¥ `AddDbContext`, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `DbContextOptionsBuilder` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ `UseSqlServer` –Ω–∞ –Ω–µ–º. –¢–∞–∫–∞—è –∑–∞–ø–∏—Å—å –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.

